<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Labour Management | Smart Farm</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  min-height:100vh;
  padding:30px;
  font-family:'Inter',sans-serif;
  background:linear-gradient(rgba(0,0,0,.35),rgba(0,0,0,.35)),
             url("../images/img7.jpg") center/cover fixed;
}

.container{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:400px 1fr;
  gap:30px;
}

.card{
  background:rgba(255,255,255,.94);
  backdrop-filter:blur(14px);
  padding:28px;
  border-radius:28px;
  box-shadow:0 25px 60px rgba(0,0,0,.3);
}

h2{
  font-family:'Playfair Display',serif;
  text-align:center;
  color:white;
  padding:16px;
  border-radius:18px;
  background:linear-gradient(135deg,#2e7d32,#66bb6a);
  margin-bottom:22px;
  letter-spacing:1px;
}

label{
  margin-top:16px;
  display:block;
  font-weight:600;
  color:#2e7d32;
}

input,select,textarea{
  width:100%;
  margin-top:6px;
  padding:13px;
  border-radius:16px;
  border:1px solid #a5d6a7;
  font-weight:500;
  font-size:14px;
}

textarea{height:90px;resize:none}

input:focus,select:focus,textarea:focus{
  outline:none;
  border-color:#43a047;
  box-shadow:0 0 8px #a5d6a7;
}

small{
  color:#d32f2f;
  font-weight:600;
  font-size:13px;
}

.invalid{border:2px solid #d32f2f}

button{
  width:100%;
  margin-top:26px;
  padding:14px;
  border:none;
  border-radius:40px;
  background:linear-gradient(135deg,#2e7d32,#66bb6a);
  color:white;
  font-weight:700;
  letter-spacing:.5px;
  cursor:pointer;
}

button:hover{transform:scale(1.07)}

table{
  width:100%;
  border-collapse:separate;
  border-spacing:0 16px;
}

thead th{
  font-family:'Playfair Display',serif;
  background:linear-gradient(135deg,#1b5e20,#66bb6a);
  color:white;
  padding:16px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:14px;
}

tbody tr{
  background:linear-gradient(135deg,#f1f8e9,#e8f5e9);
  box-shadow:0 12px 28px rgba(0,0,0,.2);
  transition:.3s;
  border-radius:18px;
}

tbody tr:hover{
  transform:translateY(-6px);
  background:#dcedc8;
}

td{
  padding:16px;
  text-align:center;
  font-weight:500;
  color:#2e7d32;
}

.badge{
  padding:6px 16px;
  border-radius:20px;
  color:white;
  font-size:12px;
  font-weight:700;
  letter-spacing:.5px;
  display:inline-block;
}

.Available{background:#43a047;box-shadow:0 0 10px #81c784}
.Working{background:#f57c00;color:black;box-shadow:0 0 10px #ffb74d}
.Off{background:#d32f2f;box-shadow:0 0 10px #ef9a9a}

@media(max-width:900px){
  .container{grid-template-columns:1fr}
}
</style>
</head>

<body>

<div class="container">

<div class="card">
<h2>ðŸ‘· Labour Entry</h2>

<label>Labour Name</label>
<input id="labourName" placeholder="Only letters">
<small id="lnErr"></small>

<label>Role</label>
<select id="role">
  <option value="">Select Role</option>
  <option>Harvester</option>
  <option>Planter</option>
  <option>Monitor</option>
  <option>Irrigator</option>
</select>
<small id="roleErr"></small>

<label>Hours Worked</label>
<input type="number" id="hours">
<small id="hErr"></small>

<label>Status</label>
<select id="status">
  <option value="">Select Status</option>
  <option>Available</option>
  <option>Working</option>
  <option>Off</option>
</select>
<small id="sErr"></small>

<label>Notes</label>
<textarea id="notes"></textarea>
<small id="nErr"></small>

<button onclick="saveLabour()">Save Labour</button>
</div>

<div class="card">
<h2>ðŸ“‹ Labour Records</h2>

<table>
<thead>
<tr>
<th>Name</th>
<th>Role</th>
<th>Hours</th>
<th>Status</th>
<th>Notes</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div>

</div>

<script>
const labourName=document.getElementById("labourName");
const role=document.getElementById("role");
const hours=document.getElementById("hours");
const status=document.getElementById("status");
const notes=document.getElementById("notes");

const lnErr=document.getElementById("lnErr");
const roleErr=document.getElementById("roleErr");
const hErr=document.getElementById("hErr");
const sErr=document.getElementById("sErr");
const nErr=document.getElementById("nErr");

const tbody=document.getElementById("tbody");

let labours=[];
const nameRegex=/^[A-Za-z\s]+$/;

labourName.addEventListener("input",()=>{
  labourName.value=labourName.value.replace(/[^A-Za-z\s]/g,"");
});

function saveLabour(){
  [lnErr,roleErr,hErr,sErr,nErr].forEach(e=>e.innerText="");
  document.querySelectorAll(".invalid").forEach(e=>e.classList.remove("invalid"));

  let ok=true;

  if(!labourName.value.trim()||!nameRegex.test(labourName.value)){
    lnErr.innerText="Only letters allowed";
    labourName.classList.add("invalid");
    ok=false;
  }
  if(!role.value){
    roleErr.innerText="Select role";
    role.classList.add("invalid");
    ok=false;
  }
  if(hours.value===""||hours.value<0){
    hErr.innerText="Enter valid hours";
    hours.classList.add("invalid");
    ok=false;
  }
  if(!status.value){
    sErr.innerText="Select status";
    status.classList.add("invalid");
    ok=false;
  }
  if(!notes.value.trim()){
    nErr.innerText="Enter notes";
    notes.classList.add("invalid");
    ok=false;
  }

  if(!ok)return;

  labours.push({
    name:labourName.value.trim(),
    role:role.value,
    hours:hours.value,
    status:status.value,
    notes:notes.value.trim()
  });

  labourName.value=role.value=hours.value=status.value=notes.value="";
  render();
}

function render(){
  tbody.innerHTML="";
  labours.forEach(l=>{
    tbody.innerHTML+=`
      <tr>
        <td>${l.name}</td>
        <td>${l.role}</td>
        <td>${l.hours}</td>
        <td><span class="badge ${l.status}">${l.status}</span></td>
        <td>${l.notes}</td>
      </tr>
    `;
  });
}
</script>

</body>
</html>